<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Be My Valentine? üíï</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600;700&family=Great+Vibes&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        min-height: 100vh;
        background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px;
        position: relative;
        overflow-x: hidden;
      }

      .bg-gradient {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          #ffecd2 0%,
          #fcb69f 50%,
          #ff9a9e 100%
        );
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        z-index: 0;
      }

      @keyframes gradientShift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        overflow: hidden;
      }

      .heart {
        position: absolute;
        font-size: 18px;
        opacity: 0.15;
        animation: floatUp 10s infinite ease-in-out;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        50% {
          opacity: 0.2;
        }
        100% {
          transform: translateY(-20vh) rotate(180deg);
          opacity: 0;
        }
      }

      .container {
        max-width: 550px;
        width: 100%;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(10px);
        border-radius: 30px;
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        position: relative;
        z-index: 2;
      }

      .header {
        background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
        padding: 50px 30px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        animation: shimmer 6s linear infinite;
      }

      @keyframes shimmer {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .header h1 {
        font-family: "Great Vibes", cursive;
        color: white;
        font-size: 3.5em;
        margin-bottom: 12px;
        position: relative;
        z-index: 1;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .header p {
        color: rgba(255, 255, 255, 0.95);
        font-size: 1.1em;
        font-weight: 300;
        position: relative;
        z-index: 1;
      }

      .header-emoji {
        font-size: 3.5em;
        margin-bottom: 15px;
        display: inline-block;
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      .content {
        padding: 40px 30px;
      }

      .name-section {
        text-align: center;
        animation: fadeIn 0.6s ease;
      }

      .name-section.hidden {
        display: none;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .name-prompt {
        font-family: "Playfair Display", serif;
        font-size: 1.5em;
        color: #555;
        margin-bottom: 25px;
        line-height: 1.5;
      }

      .name-input {
        width: 100%;
        max-width: 350px;
        padding: 16px 20px;
        border: 2px solid transparent;
        border-radius: 15px;
        font-family: "Poppins", sans-serif;
        font-size: 1.05em;
        text-align: center;
        transition: all 0.3s ease;
        background: #f8f8f8;
        margin-bottom: 20px;
      }

      .name-input:focus {
        outline: none;
        border-color: #ff758c;
        background: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(255, 117, 140, 0.12);
      }

      .start-btn {
        padding: 18px 60px;
        background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
        color: white;
        border: none;
        border-radius: 15px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 6px 20px rgba(255, 117, 140, 0.3);
      }

      .start-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(255, 117, 140, 0.4);
      }

      .question-section {
        display: none;
        animation: fadeIn 0.6s ease;
      }

      .question-section.active {
        display: block;
      }

      .question-header {
        text-align: center;
        margin-bottom: 35px;
      }

      .partner-name {
        font-family: "Great Vibes", cursive;
        font-size: 3.2em;
        background: linear-gradient(135deg, #ff758c 0%, #c06c84 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 18px;
        line-height: 1.2;
      }

      .question-text {
        font-family: "Playfair Display", serif;
        font-size: 1.8em;
        color: #555;
        font-weight: 400;
      }

      .response-area {
        margin: 25px 0;
        min-height: 0;
        transition: all 0.3s ease;
      }

      .response-area.has-content {
        min-height: 280px;
      }

      .gif-container {
        text-align: center;
        display: none;
      }

      .gif-container.active {
        display: block;
        animation: zoomIn 0.5s ease;
      }

      @keyframes zoomIn {
        from {
          opacity: 0;
          transform: scale(0.85);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .gif-text {
        font-family: "Playfair Display", serif;
        font-size: 1.5em;
        color: #ff758c;
        margin-bottom: 18px;
        font-weight: 600;
        font-style: italic;
      }

      .gif-image {
        max-width: 100%;
        max-height: 250px;
        border-radius: 20px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      }

      .final-plea {
        display: none;
        text-align: center;
        padding: 35px 28px;
        background: linear-gradient(135deg, #fff5f7 0%, #ffe8ec 100%);
        border-radius: 20px;
      }

      .final-plea.active {
        display: block;
        animation: gentle-pulse 1.5s ease;
      }

      @keyframes gentle-pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
      }

      .final-plea h3 {
        font-family: "Great Vibes", cursive;
        font-size: 2.8em;
        color: #ff758c;
        margin-bottom: 18px;
      }

      .final-plea p {
        font-size: 1.1em;
        color: #666;
        line-height: 1.7;
      }

      .buttons-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .yes-btn {
        width: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 22px 40px;
        border-radius: 15px;
        font-size: 1.35em;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.35);
        letter-spacing: 0.5px;
      }

      .yes-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.45);
      }

      .no-section {
        text-align: center;
        margin-top: 10px;
      }

      .challenge-text {
        font-size: 0.9em;
        color: #ff758c;
        font-weight: 600;
        font-style: italic;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .challenge-text::before,
      .challenge-text::after {
        content: "üòè";
      }

      .no-btn {
        background: white;
        color: #999;
        border: 2px solid #e0e0e0;
        padding: 15px 40px;
        border-radius: 15px;
        font-size: 1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-block;
      }

      .no-btn:hover {
        border-color: #ff758c;
        color: #ff758c;
        transform: scale(1.02);
      }

      .success-screen {
        display: none;
        animation: fadeIn 0.6s ease;
      }

      .success-screen.active {
        display: block;
      }

      .success-header {
        text-align: center;
        margin-bottom: 35px;
      }

      .success-title {
        font-family: "Great Vibes", cursive;
        font-size: 4em;
        background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 12px;
        line-height: 1.3;
        animation: glow 2s ease-in-out infinite;
      }

      @keyframes glow {
        0%,
        100% {
          filter: drop-shadow(0 0 8px rgba(255, 117, 140, 0.3));
        }
        50% {
          filter: drop-shadow(0 0 15px rgba(255, 117, 140, 0.5));
        }
      }

      .success-subtitle {
        font-size: 1em;
        color: #888;
        font-weight: 300;
      }

      .celebration-emoji {
        font-size: 7em;
        margin: 35px 0;
        animation: bounce 1s ease infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-25px);
        }
      }

      .success-message {
        font-family: "Playfair Display", serif;
        font-size: 1.4em;
        color: #555;
        line-height: 1.8;
        margin-bottom: 35px;
        padding: 0 15px;
      }

      .final-section {
        text-align: center;
        margin-top: 45px;
        padding-top: 35px;
        border-top: 2px dashed rgba(255, 117, 140, 0.2);
      }

      .final-text {
        font-family: "Great Vibes", cursive;
        font-size: 2.8em;
        color: #c06c84;
        margin-bottom: 15px;
      }

      .from-text {
        font-family: "Playfair Display", serif;
        font-size: 1.4em;
        color: #777;
        font-style: italic;
      }

      .music-control {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 100;
      }

      .music-control:hover {
        transform: scale(1.08);
      }

      .music-control.playing {
        background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
        animation: music-pulse 2s ease infinite;
      }

      .music-control.playing .music-icon {
        color: white;
      }

      @keyframes music-pulse {
        0%,
        100% {
          box-shadow: 0 6px 20px rgba(255, 117, 140, 0.3);
        }
        50% {
          box-shadow: 0 6px 30px rgba(255, 117, 140, 0.5);
        }
      }

      .music-icon {
        font-size: 1.6em;
        color: #ff758c;
      }

      @media (max-width: 600px) {
        .container {
          border-radius: 25px;
        }
        .header {
          padding: 40px 25px;
        }
        .header h1 {
          font-size: 2.8em;
        }
        .header-emoji {
          font-size: 3em;
        }
        .content {
          padding: 35px 25px;
        }
        .name-prompt {
          font-size: 1.3em;
        }
        .partner-name {
          font-size: 2.5em;
        }
        .question-text {
          font-size: 1.5em;
        }
        .response-area.has-content {
          min-height: 250px;
        }
        .gif-text {
          font-size: 1.3em;
        }
        .gif-image {
          max-height: 220px;
        }
        .yes-btn {
          font-size: 1.2em;
          padding: 20px 35px;
        }
        .success-title {
          font-size: 3.2em;
        }
        .celebration-emoji {
          font-size: 5.5em;
        }
        .success-message {
          font-size: 1.2em;
        }
        .final-text {
          font-size: 2.4em;
        }
        .from-text {
          font-size: 1.2em;
        }
        .music-control {
          width: 55px;
          height: 55px;
          bottom: 15px;
          right: 15px;
        }
        .music-icon {
          font-size: 1.4em;
        }
      }

      @media (max-width: 400px) {
        .header h1 {
          font-size: 2.4em;
        }
        .partner-name {
          font-size: 2.2em;
        }
        .question-text {
          font-size: 1.35em;
        }
        .success-title {
          font-size: 2.8em;
        }
        .celebration-emoji {
          font-size: 4.5em;
        }
      }
    </style>
  </head>
  <body>
    <div class="bg-gradient"></div>
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="music-control" id="musicControl" title="Music">
      <div class="music-icon">‚ô´</div>
    </div>

    <audio id="bgMusic" loop preload="auto">
      <source
        src="https://cdn.pixabay.com/audio/2024/11/23/audio_98cd4c0d89.mp3"
        type="audio/mpeg"
      />
    </audio>

    <div class="container">
      <div class="header">
        <div class="header-emoji">üíù</div>
        <h1>Be My Valentine</h1>
        <p>A moment to remember forever</p>
      </div>

      <div class="content">
        <div class="name-section" id="nameSection">
          <div class="name-prompt">
            Before we begin...<br />What's your name?
          </div>
          <input
            type="text"
            id="nameInput"
            class="name-input"
            placeholder="Enter your name..."
          />
          <button class="start-btn" onclick="startProposal()">Continue</button>
        </div>

        <div class="question-section" id="questionSection">
          <div class="question-header">
            <div class="partner-name" id="displayPartnerName"></div>
            <div class="question-text">Will you be my Valentine?</div>
          </div>

          <div class="response-area" id="responseArea">
            <div class="gif-container" id="gif1">
              <div class="gif-text">Oh no... please don't!</div>
              <img
                class="gif-image"
                src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdzN2Ym02YjRjeGV6OGt3MWgyazY3cmswdjlsdzF5OXN0ajgyZmZhYiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/BEob5qwFkSJ7G/giphy.gif"
                alt="Sad cat"
              />
            </div>
            <div class="gif-container" id="gif2">
              <div class="gif-text">Give me another chance!</div>
              <img
                class="gif-image"
                src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHZ3cnJ2MW02cTg5ajJ2MjNsYzR6MjYzc3I0ZGx5ZTh1YmkxbmJ2byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Ty9Sg8oHghPWg/giphy.gif"
                alt="Please"
              />
            </div>
            <div class="gif-container" id="gif3">
              <div class="gif-text">You're breaking my heart...</div>
              <img
                class="gif-image"
                src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExY3VhYzJ2bHpscW5pNW95MmZvOGJkYjN2aDBwMWp6d3JnMHlzejR0bCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/14ut8PhnIwzros/giphy.gif"
                alt="Crying"
              />
            </div>
            <div class="final-plea" id="finalPlea">
              <h3>Pls say yes babeee ü•∫</h3>
              <p>
                I promise to make every day special. You're my favorite person
                in the whole world, and I can't imagine this without you.
                Please? üíï
              </p>
            </div>
          </div>

          <div class="buttons-container">
            <button class="yes-btn" onclick="handleYes()">
              Yes! Yes!! Yes!!! üíï
            </button>
            <div class="no-section">
              <div class="challenge-text">Try saying no</div>
              <button class="no-btn" id="noBtn" onclick="handleNo()">No</button>
            </div>
          </div>
        </div>

        <div class="success-screen" id="successScreen">
          <div class="success-header">
            <div class="success-title">You Said Yes!</div>
            <div class="success-subtitle">
              This is the beginning of something beautiful ‚ú®
            </div>
          </div>
          <div class="celebration-emoji">üíñ</div>
          <div class="success-message">
            Every moment with you feels like a beautiful dream. Thank you for
            making my heart complete and for saying yes to this journey
            together.
          </div>
          <div class="final-section">
            <div class="final-text">Forever & Always</div>
            <div class="from-text">
              With all my love, <span id="fromName"></span> üíï
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script>
      function createFloatingHearts() {
        const container = document.getElementById("floatingHearts");
        const hearts = ["üíï", "üíñ", "üíó", "üíù", "üíò"];
        for (let i = 0; i < 12; i++) {
          const heart = document.createElement("div");
          heart.className = "heart";
          heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
          heart.style.left = Math.random() * 100 + "%";
          heart.style.fontSize = Math.random() * 12 + 14 + "px";
          heart.style.animationDelay = Math.random() * 5 + "s";
          heart.style.animationDuration = Math.random() * 5 + 8 + "s";
          container.appendChild(heart);
        }
      }
      createFloatingHearts();

      const music = document.getElementById("bgMusic");
      const musicControl = document.getElementById("musicControl");
      const musicIcon = document.querySelector(".music-icon");
      let isPlaying = false;

      document.addEventListener("DOMContentLoaded", () => {
        music
          .play()
          .then(() => {
            isPlaying = true;
            musicIcon.textContent = "‚ô´";
            musicControl.classList.add("playing");
          })
          .catch(() => console.log("Autoplay prevented"));
      });

      musicControl.addEventListener("click", () => {
        if (isPlaying) {
          music.pause();
          musicIcon.textContent = "‚ô™";
          musicControl.classList.remove("playing");
        } else {
          music.play();
          musicIcon.textContent = "‚ô´";
          musicControl.classList.add("playing");
        }
        isPlaying = !isPlaying;
      });

      function startProposal() {
        const name = document.getElementById("nameInput").value.trim();
        if (!name) {
          alert("Please enter your name!");
          return;
        }
        document.getElementById("displayPartnerName").textContent = name;
        document.getElementById("fromName").textContent = name;
        document.getElementById("nameSection").classList.add("hidden");
        document.getElementById("questionSection").classList.add("active");

        if (!isPlaying) {
          music.play().catch((e) => console.log("Audio play failed:", e));
          musicIcon.textContent = "‚ô´";
          musicControl.classList.add("playing");
          isPlaying = true;
        }
      }

      let noClickCount = 0;
      function handleNo() {
        noClickCount++;
        document.getElementById("responseArea").classList.add("has-content");
        document.getElementById("gif1").classList.remove("active");
        document.getElementById("gif2").classList.remove("active");
        document.getElementById("gif3").classList.remove("active");
        document.getElementById("finalPlea").classList.remove("active");

        if (noClickCount === 1) {
          document.getElementById("gif1").classList.add("active");
        } else if (noClickCount === 2) {
          document.getElementById("gif2").classList.add("active");
        } else if (noClickCount === 3) {
          document.getElementById("gif3").classList.add("active");
        } else if (noClickCount >= 4) {
          document.getElementById("finalPlea").classList.add("active");
        }
      }

      function handleYes() {
        document.getElementById("questionSection").classList.remove("active");
        document.getElementById("successScreen").classList.add("active");
        launchConfetti();
      }

      function launchConfetti() {
        const duration = 5 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = {
          startVelocity: 30,
          spread: 360,
          ticks: 60,
          zIndex: 9999,
        };

        function randomInRange(min, max) {
          return Math.random() * (max - min) + min;
        }

        const interval = setInterval(function () {
          const timeLeft = animationEnd - Date.now();
          if (timeLeft <= 0) {
            return clearInterval(interval);
          }
          const particleCount = 50 * (timeLeft / duration);
          confetti({
            ...defaults,
            particleCount,
            origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
            colors: [
              "#ff758c",
              "#ff7eb3",
              "#c06c84",
              "#667eea",
              "#764ba2",
              "#ffc0cb",
            ],
          });
          confetti({
            ...defaults,
            particleCount,
            origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
            colors: [
              "#ff758c",
              "#ff7eb3",
              "#c06c84",
              "#667eea",
              "#764ba2",
              "#ffc0cb",
            ],
          });
        }, 250);

        setTimeout(() => {
          confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 },
            colors: ["#ff758c", "#ff7eb3", "#ffc0cb"],
            shapes: ["circle"],
            scalar: 1.5,
          });
        }, 500);
      }
    </script>
  </body>
</html>
